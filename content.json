{"meta":{"title":"陈新友的博客","subtitle":null,"description":null,"author":"陈新友","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"Ubuntu 换源","slug":"Ubuntu-换源","date":"2018-07-18T02:04:31.000Z","updated":"2018-07-18T02:15:43.678Z","comments":true,"path":"2018/07/18/Ubuntu-换源/","link":"","permalink":"http://yoursite.com/2018/07/18/Ubuntu-换源/","excerpt":"","text":"1.备份原source.list 2.替换为一下内容 deb http://cn.archive.ubuntu.com/ubuntu/ xenial main restricted universe multiverse deb http://cn.archive.ubuntu.com/ubuntu/ xenial-security main restricted universe multiverse deb http://cn.archive.ubuntu.com/ubuntu/ xenial-updates main restricted universe multiverse deb http://cn.archive.ubuntu.com/ubuntu/ xenial-backports main restricted universe multiverse","categories":[],"tags":[]},{"title":"Ubuntu 16.04设置IP、网关、DNS","slug":"Ta","date":"2018-07-18T01:15:00.000Z","updated":"2018-07-18T01:32:42.957Z","comments":true,"path":"2018/07/18/Ta/","link":"","permalink":"http://yoursite.com/2018/07/18/Ta/","excerpt":"","text":"Ubuntu 16.04设置IP、网关、DNS1、修改IP地址 打开/etc/network/interfaces sudo vim /etc/network/interfaces 加入以下语句： auto eth0 #要设置的网卡 iface eth0 inet static #设置静态IP；如果是使用自动IP用dhcp，后面的不用设置，一般少用 address 192.168.244.35#IP地址 netmask 255.255.0.0 #子网掩码 gateway 192.168.0.1 #网关 2、修改DNS 打开/etc/resolv.conf sudo vim /etc/resolv.conf 注意：上面设置的文件重启后会覆盖，如果要持久的保存，需要修改：/etc/resolvconf/resolv.conf.d/base 改为如下内容： search localdomain #如果本Server为DNS服务器，可以加上这一句，如果不是，可以不加 nameserver 172.16.3.4 #希望修改成的DNS nameserver 172.16.3.3 #希望修改成的DNS 3、重启服务生效 先运行一次，然后在rc.local里加入这个重启网络配置的命令： sudo /etc/init.d/networking restart #使网卡配置生效 sudo /etc/init.d/resolvconf restart #使DNS生效 service networking restart","categories":[],"tags":[]},{"title":"Ubuntu安装FastDFS 5.05","slug":"个人博客","date":"2018-06-28T02:04:00.000Z","updated":"2018-06-29T07:55:40.108Z","comments":true,"path":"2018/06/28/个人博客/","link":"","permalink":"http://yoursite.com/2018/06/28/个人博客/","excerpt":"","text":"Ubuntu下部署FastDFS 5.05 下载安装libfastcommon git clone https://github.com/happyfish100/libfastcommon.git cd libfastcommon/ ./make.sh ./make.sh install 确认make没有错误后，执行安装，64位系统默认会复制到/usr/lib64下。这时候需要设置环境变量或者创建软链接 export LD_LIBRARY_PATH=/usr/lib64/ ln -s /usr/lib64/libfastcommon.so /usr/local/lib/libfastcommon.so 下载安装fastdfs tar xzf FastDFS.tar.gz cd FastDFS/ ./make.sh ./make.sh install 确认make没有错误后，执行安装，默认会安装到/usr/bin中，并在/etc/fdfs中添加三个配置文件。 修改配置文件 文件要自己创建 首先将三个文件的名字去掉sample，暂时只修改以下几点，先让fastdfs跑起来，其余参数调优的时候再考虑。 tracker.conf 中修改 base_path=/usr/fastdfs #用于存放日志。 storage.conf 中修改 base_path=/usr/fastdfs-storaged #用于存放日志。 store_path0=/usr/fastdfs0 #存放数据，若不设置默认为前面那个。 tracker_server=192.168.128.128:22122 #指定tracker服务器地址。 client.conf 中修改 base_path=/usr/fastdfs #用于存放日志。 tracker_server=192.168.128.128:22122 #指定tracker服务器地址。 启动tracker和storage /usr/bin/fdfs_trackerd /etc/fdfs/tracker.conf /usr/bin/fdfs_storaged /etc/fdfs/storage.conf 检查进程 root@ubuntu:~# ps -ef |grep fdfs root 7819 1 0 15:24 ? 00:00:00 /usr/bin/fdfs_trackerd /etc/fdfs/tracker.conf root 8046 1 0 15:36 ? 00:00:01 fdfs_storaged /etc/fdfs/storage.conf start 表示启动ok了，若有错误，可以在/usr/fastdfs目录下检查日志。 上传/删除测试 使用自带的fdfs_test来测试，使用格式如下： root@ubuntu:~# fdfs_test /etc/fdfs/client.conf upload /home/steven/01.jpg group_name=group1, ip_addr=192.168.29.132, port=23000 storage_upload_by_filename group_name=group1, remote_filename=M00/00/00/wKgdhFTV0ZmAP3AZAPk-Io7D4w8580.jpg example file url: http://192.168.29.132/group1/M00/00/00/wKgdhFTV0ZmAP3AZAPk-Io7D4w8580.jpg storage_upload_slave_by_filename group_name=group1, remote_filename=M00/00/00/wKgdhFTV0ZmAP3AZAPk-Io7D4w8580_big.jpg example file url: http://192.168.29.132/group1/M00/00/00/wKgdhFTV0ZmAP3AZAPk-Io7D4w8580_big.jpg 7、使用fdfs_delete_file来删除文件，格式如下： fdfs_delete_file /etc/fdfs/client.conf group1/M00/00/00/wKgdhFTV11uAXgKWAPk-Io7D4w8667.jpg 可以看到，上传ok了，这里会生成两个文件，这是fastdfs的主/从文件特性，以后再介绍。 example file url 是不能在浏览器中直接打开的，除非配合nginx使用，这里我不需要了。 删除文件需要完整的group_name和remote_filename。 8、建议的关闭防火墙命令 iptables -P INPUT ACCEPT iptables -P FORWARD ACCEPT iptables -P OUTPUT ACCEPT iptables -F 9、安装nginx FastDFS的nginx插件fastdfs-nginx-module_v1.16.tar.gz tar zxvf fastdfs-nginx-module_v1.16.tar.gz","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2018-06-27T09:38:39.938Z","updated":"2018-06-27T09:38:39.938Z","comments":true,"path":"2018/06/27/hello-world/","link":"","permalink":"http://yoursite.com/2018/06/27/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}